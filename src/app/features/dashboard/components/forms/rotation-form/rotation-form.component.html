<form [formGroup]="form" (ngSubmit)="save()" class="space-y-6">

    <div class="grid grid-cols-2 gap-4">
        <app-ui-input label="TOTAL PERSONAL" type="number" formControlName="totalPersonal" placeholder="0"
            [error]="form.get('totalPersonal')?.invalid && form.get('totalPersonal')?.touched ? 'Requerido' : ''">
        </app-ui-input>

        <app-ui-input label="TOTAL RETIROS" type="number" formControlName="totalRetiros" placeholder="0"
            [error]="form.get('totalRetiros')?.invalid && form.get('totalRetiros')?.touched ? 'Requerido' : ''">
        </app-ui-input>
    </div>

    <!-- Calculated Field Feedback -->
    <div class="p-4 rounded-xl bg-zinc-800/50 border border-zinc-700 flex justify-between items-center">
        <span class="text-sm text-zinc-400">Rotaci√≥n Calculada</span>
        <span class="text-2xl font-bold text-white tracking-tight">{{ calculatedPercentage }}</span>
    </div>

    <div class="pt-4 border-t border-zinc-800 flex justify-end">
        <button type="submit" [disabled]="isSaving || form.invalid"
            class="px-5 py-2.5 rounded-lg text-sm font-medium bg-white text-black hover:bg-zinc-200 transition shadow-lg shadow-white/5 flex items-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed">
            <i *ngIf="isSaving" class="ph ph-spinner animate-spin text-lg"></i>
            <i *ngIf="!isSaving" class="ph-bold ph-floppy-disk"></i>
            {{ isSaving ? 'Guardando...' : 'Guardar Cambios' }}
        </button>
    </div>
</form>